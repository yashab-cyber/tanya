# ============================================
# AI-POWERED BROWSER AUTOMATION & VAPT SYSTEM
# ============================================

# ==================== ENVIRONMENT ====================
NODE_ENV=production
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info

# ==================== APPLICATION ====================
APP_NAME=Tanya-VAPT
APP_VERSION=1.0.0
APP_HOST=0.0.0.0
APP_PORT=8000
FRONTEND_PORT=3000

# ==================== SECURITY ====================
SECRET_KEY=your-secret-key-change-in-production-min-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ENCRYPTION_KEY=your-encryption-key-32-bytes-base64-encoded

# CORS Configuration
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true

# ==================== ANTHROPIC AI ====================
# Claude API for Computer Use and Vision
ANTHROPIC_API_KEY=sk-ant-api03-your-actual-key-here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7
ANTHROPIC_BETA_VERSION=computer-use-2025-01-24

# ==================== DATABASE ====================
# PostgreSQL Configuration
DATABASE_URL=postgresql+asyncpg://tanya_user:tanya_secure_password_2024@postgres:5432/tanya_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Database Credentials (for direct access)
POSTGRES_USER=tanya_user
POSTGRES_PASSWORD=tanya_secure_password_2024
POSTGRES_DB=tanya_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ==================== REDIS ====================
# Redis for caching and message broker
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ==================== CELERY ====================
# Background task processing
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3000
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1

# ==================== BROWSER AUTOMATION ====================
# Playwright Configuration
BROWSER_TYPE=chromium
BROWSER_HEADLESS=true
BROWSER_VIEWPORT_WIDTH=1280
BROWSER_VIEWPORT_HEIGHT=800
BROWSER_TIMEOUT=30000
BROWSER_NAVIGATION_TIMEOUT=60000
BROWSER_USER_AGENT=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# Display Configuration (for Computer Use)
DISPLAY_NUMBER=1
DISPLAY_WIDTH_PX=1280
DISPLAY_HEIGHT_PX=800
XVFB_DISPLAY=:1

# Browser Context Options
BROWSER_ACCEPT_DOWNLOADS=true
BROWSER_RECORD_HAR=true
BROWSER_RECORD_VIDEO=false
BROWSER_IGNORE_HTTPS_ERRORS=true

# ==================== SCREENSHOT & VISION ====================
# Computer Vision Settings
SCREENSHOT_FORMAT=png
SCREENSHOT_QUALITY=90
SCREENSHOT_FULL_PAGE=true
VISION_PROCESSING_ENABLED=true
PIXEL_COORDINATE_PRECISION=true

# ==================== CRAWLING & SCANNING ====================
# Auto-Crawl Configuration
MAX_CRAWL_DEPTH=5
MAX_URLS_PER_DOMAIN=10000
CRAWL_DELAY_MS=100
RESPECT_ROBOTS_TXT=false
FOLLOW_REDIRECTS=true
MAX_REDIRECTS=10

# URL Discovery
DISCOVER_HIDDEN_URLS=true
DISCOVER_API_ENDPOINTS=true
DISCOVER_JS_FILES=true
DISCOVER_STATIC_ASSETS=true
DISCOVER_ADMIN_ROUTES=true
DISCOVER_WEBSOCKETS=true

# JavaScript Analysis
JS_DOWNLOAD_ENABLED=true
JS_STATIC_ANALYSIS=true
JS_API_EXTRACTION=true
JS_MAX_FILE_SIZE_MB=10

# ==================== API SCANNING ====================
# API Discovery & Testing
API_SCAN_ENABLED=true
API_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS,HEAD
API_PARAMETER_FUZZING=true
API_GRAPHQL_INTROSPECTION=true
API_RATE_LIMIT_DETECTION=true
API_STATUS_CODE_ANALYSIS=true

# Parameter Analysis
EXTRACT_PARAMETERS=true
EXTRACT_HEADERS=true
EXTRACT_COOKIES=true
EXTRACT_HIDDEN_FIELDS=true
PARAMETER_BOUNDARY_TESTING=true

# ==================== AUTHENTICATION ====================
# Session Management
SESSION_TRACKING=true
SESSION_COOKIE_ANALYSIS=true
CSRF_TOKEN_DETECTION=true
JWT_ANALYSIS=true
OAUTH_FLOW_DETECTION=true

# Multi-Factor Authentication
MFA_DETECTION=true
OTP_FLOW_TRACKING=true

# Token Management
TOKEN_REFRESH_TRACKING=true
BEARER_TOKEN_EXTRACTION=true
API_KEY_DETECTION=true

# ==================== VULNERABILITY TESTING ====================
# VAPT Test Types
ENABLE_SQL_INJECTION_TESTS=true
ENABLE_XSS_TESTS=true
ENABLE_CSRF_TESTS=true
ENABLE_SSRF_TESTS=true
ENABLE_XXE_TESTS=true
ENABLE_PATH_TRAVERSAL_TESTS=true
ENABLE_IDOR_TESTS=true
ENABLE_AUTHENTICATION_BYPASS_TESTS=true
ENABLE_AUTHORIZATION_TESTS=true
ENABLE_SENSITIVE_DATA_EXPOSURE_TESTS=true

# Test Intensity
TEST_INTENSITY=medium
TEST_PARALLEL_WORKERS=5
TEST_MAX_PAYLOADS_PER_PARAM=50
TEST_TIMEOUT_SECONDS=120

# ==================== AI AGENT CONFIGURATION ====================
# Multi-Agent System
AGENT_PLANNING_ENABLED=true
AGENT_EXECUTION_ENABLED=true
AGENT_ANALYSIS_ENABLED=true
AGENT_SELF_HEALING_ENABLED=true

# Agent Behavior
AGENT_MAX_RETRIES=3
AGENT_RETRY_DELAY_SECONDS=5
AGENT_CONTEXT_WINDOW_SIZE=100000
AGENT_MEMORY_PERSISTENCE=true

# ==================== CONTEXT MANAGEMENT ====================
# Vector Storage (for embeddings)
VECTOR_DB_ENABLED=true
VECTOR_DB_TYPE=chromadb
VECTOR_DB_PATH=/data/vector_db
EMBEDDING_MODEL=text-embedding-3-small
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Context Assembly
PROGRESSIVE_CONTEXT_LOADING=true
HIERARCHICAL_MEMORY=true
CONTEXT_COMPRESSION=true

# ==================== REPORTING ====================
# Report Generation
REPORT_FORMAT=pdf,html,json
REPORT_OUTPUT_DIR=/reports
REPORT_INCLUDE_SCREENSHOTS=true
REPORT_INCLUDE_REQUEST_RESPONSE=true
REPORT_INCLUDE_REMEDIATION=true

# Severity Levels
SEVERITY_CRITICAL_THRESHOLD=9.0
SEVERITY_HIGH_THRESHOLD=7.0
SEVERITY_MEDIUM_THRESHOLD=4.0

# ==================== LOGGING & MONITORING ====================
# Logging Configuration
LOG_FORMAT=json
LOG_FILE=/logs/tanya.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=10
LOG_CONSOLE_OUTPUT=true

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_FILE=/logs/audit.log
AUDIT_LOG_ALL_ACTIONS=true

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=60

# ==================== DOCKER & CONTAINERIZATION ====================
# Docker Configuration
DOCKER_NETWORK=tanya-network
CONTAINER_ISOLATION=true
CONTAINER_MEMORY_LIMIT=4g
CONTAINER_CPU_LIMIT=2

# ==================== STORAGE ====================
# File Storage
STORAGE_PATH=/data/storage
UPLOAD_MAX_SIZE_MB=100
TEMP_DIR=/tmp/tanya
CLEANUP_TEMP_FILES=true

# HAR Files
HAR_STORAGE_PATH=/data/har_files
HAR_RETENTION_DAYS=30

# Screenshots
SCREENSHOT_STORAGE_PATH=/data/screenshots
SCREENSHOT_RETENTION_DAYS=30

# ==================== RATE LIMITING ====================
# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=5000
RATE_LIMIT_STRATEGY=sliding_window

# ==================== PROXY & NETWORK ====================
# Proxy Configuration
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# Network Timeouts
HTTP_TIMEOUT=30
CONNECT_TIMEOUT=10
READ_TIMEOUT=30

# ==================== NOTIFICATION ====================
# Email Notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@tanya-vapt.com
SMTP_USE_TLS=true

# Slack Notifications (optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#security-alerts

# ==================== EXTERNAL INTEGRATIONS ====================
# Jira Integration (optional)
JIRA_URL=
JIRA_USERNAME=
JIRA_API_TOKEN=
JIRA_PROJECT_KEY=

# Vulnerability Database
CVE_DATABASE_ENABLED=true
CVE_API_KEY=

# ==================== PERFORMANCE OPTIMIZATION ====================
# Caching
ENABLE_CACHING=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=1024

# Parallel Processing
MAX_PARALLEL_SCANS=3
MAX_PARALLEL_REQUESTS=10
BATCH_SIZE=100

# ==================== COMPLIANCE & PRIVACY ====================
# Data Retention
DATA_RETENTION_DAYS=90
AUTO_DELETE_OLD_SCANS=true

# Privacy
ANONYMIZE_SENSITIVE_DATA=true
MASK_CREDENTIALS=true
REDACT_PII=true

# ==================== FEATURE FLAGS ====================
# Enable/Disable Features
FEATURE_AI_ANALYSIS=true
FEATURE_AUTOMATED_REMEDIATION=false
FEATURE_CONTINUOUS_SCANNING=true
FEATURE_API_FUZZING=true
FEATURE_MOBILE_TESTING=false

# ==================== DEVELOPMENT ====================
# Development Mode Settings (disable in production)
DEV_MODE=false
MOCK_AI_RESPONSES=false
SKIP_AUTH=false
VERBOSE_LOGGING=false